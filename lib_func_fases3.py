perguntas = [
       

    { 
        "pergunta": "Qual formula expressa a variável de pressão Sanguínea renal?",
        "opcoes": [
            "S= So + V.t",
            "P= F/a",
            "C= m.V",
            "P= U.i",
            "t= d/v"
        ],
        "resposta": "P= F/a",
        "imagem": "df3"
    },
    {
        "pergunta": "Quais componentes químicos encontramos no plasma sanguíneo?",
        "opcoes": [
            "Enzimas,Hormônios,Gases,Glicose,Aminoácidos,Sais Minerais e Vitaminas",
            "Lipídeos como: albumina, globulina, fibrogênico e protrombina",
            "Carboidratos saturados",
            "Água e líquido sinovial",
            "Amônia, enxofre e ácido peracético"
        ],
        "resposta": "Enzimas,Hormônios,Gases,Glicose,Aminoácidos,Sais Minerais e Vitaminas",
        "imagem": "df3"
    },
    {
        "pergunta": "Quais estruturas formam o trígono da bexiga?",
        "opcoes": [
            "2 óstios do ureter e 1 óstio da uretra",
            "2 óstios da uretra e 1 óstio do ureter",
            "3 óstios da uretra",
            "3 óstios do ureter",
            "2 óstios do ureter e 2 óstios da uretra"
        ],
        "resposta": "2 óstios do ureter e 1 óstio da uretra",
        "imagem": "df6"
    },
    {
        "pergunta": "Quais as diferenças de localização entre a bexiga urinária masculina e feminina?",
        "opcoes": [
            "Não existe diferença, ambas se localizam no mesmo lugar",
            "Nas mulheres, está em contato com a vagina e o útero. Nos homens, com a próstata",
            "Nas mulheres, está em contato com o útero. Nos homens, com o reto",
            "Nas mulheres, está em contato com a vagina. Nos homens, com os testículos",
            "Nas mulheres, está em contato com a vagina e o útero. Nos homens, com o rim"
        ],
        "resposta": "Nas mulheres, está em contato com a vagina e o útero. Nos homens, com a próstata",
        "imagem": "df6"
    },
    {
        "pergunta": "São características da uretra masculina, exceto?",
        "opcoes": [
            "Inicia-se no orifício de abertura da bexiga e estende-se até a glande",
            "Possui em média de 14 a 18 cm",
            "Comunica-se com a bexiga com o exterior",
            "É circundada pelos corpos cavernosos e esponjoso",
            "Possui uma membrana hialina"
        ],
        "resposta": "Possui uma membrana hialina",
        "imagem": "df7"
    },
     {
        "pergunta": "Quais as causas da inflamação na uretra feminina?",
        "opcoes": [
            "Infecções Sexualmente Transmissíveis (ISTs), bactérias, fungos e vírus",
            "Ato sexual sem preservativo",
            "Doenças autoimunes, irritações químicas e tumores na próstata",
            "Uso de anticoncepcional",
            "Abstinência sexual"
        ],
        "resposta": "Infecções Sexualmente Transmissíveis (ISTs), bactérias, fungos e vírus",
        "imagem": "df8"
    },
     {
        "pergunta": "Qual o órgão é responsável pela filtração do plasma sanguíneo e excreção de impurezas:",
        "opcoes": [
            "Fígado",
            "Pele",
            "Intestino grosso",
            "Rim",
            "Esôfago"
        ],
        "resposta": "Rim",
        "imagem": "df9"
    },
    {
        "pergunta": "São consideradas substâncias inorgânicas filtradas pelos rim:",
        "opcoes": [
            "lipídios e proteínas",
            "proteínas e água",
            "sais minerais e vitaminas",
            "água e sais minerais",
            "lipídios e carboidratos"
        ],
        "resposta": "água e sais minerais",
        "imagem": "df9"
    },
    {
        "pergunta": "A sequência correta que indica as etapas de formação de urina no organismo é:",
        "opcoes": [
            "Solubilização, Filtração, Reabsorção e Eliminação",
            "Secreção, Solubilização, Filtração e Excreção",
            "Filtração, Reabsorção, Secreção e Excreção",
            "Eliminação, Concentração, Filtração e Excreção",
            "Todas as alternativas estão erradas"
        ],
        "resposta": "Filtração, Reabsorção, Secreção e Excreção",
        "imagem": "df9"
    },
    {
        "pergunta": "Qual alternativa pode substituir o procedimento de hemodiálise?",
        "opcoes": [
            "Vias urinárias mecânicas.",
            "Microchips receptores de urina.",
            "Filtros biocompatíveis",
            "Rins artificiais",
            "Rins hipertrofiados"
        ],
        "resposta": "Rins artificiais",
        "imagem": "df9"
    },
    {
        "pergunta": "Ao longo do dia, sem água e debaixo de sol, o sistema excretor:",
        "opcoes": [
            "aumenta a filtração glomerular",
            "produz maior volume de urina",
            "produz urina com menos ureia",
            "produz urina com maior concentração de sais",
            "reduz a reabsorção de glicose e aminoácidos"
        ],
        "resposta": "produz urina com maior concentração de sais",
        "imagem": "df9"
    },
    {
        "pergunta": "Sobre a fisiologia renal, é correto afirmar:",
        "opcoes": [
            "Néfrons são unidades funcionais, que se localizam somente na região medular",
            "o sangue, ao passar pela arteríola eferente, não passa pelo glomérulo",
            "A média de volume urinário de um indivíduo adulto é de 1,5 L/dia",
            "A reabsorção ocorre apenas nos túbulos distal e ducto coletor",
            "Nenhuma alternativa correta"
        ],
        "resposta": "A média de volume urinário de um indivíduo adulto é de 1,5 L/dia",
        "imagem": "df10"
    },
    {
        "pergunta": "A filtração glomerular depende de três pressões, a que promove a maior pressão é:",
        "opcoes": [
            "Pressão Coloidosmótica do Sangue",
            "Pressão Hidrostática do Sangue",
            "Pressão Hidrostática da Cápsula",
            "Pressão Osmótica",
            "Pressão Tubuloglomerular"
        ],
        "resposta": "Pressão Hidrostática do Sangue",
        "imagem": "df10"
    },
    {
        "pergunta": "Quais estruturas compõem a circulação sistêmica?",
        "opcoes": [
            "Veias cavas; átrio esquerdo; valva mitral; ventrículo esquerdo; valva aórtica",
            "Veia pulmonar;átrio esquerdo; valva mitral;ventrículo esquerdo;valva aórtica; aorta",
            "Veia pulmonar; átrio direito; ventrículo direito; valva aórtica; artéria aorta",
            "Veia pulmonar; átrio esquerdo; valva mitral; valva aórtica; artéria pulmonar",
            "Veia pulmonar; valva tricúspide; ventrículo esquerdo; valva aórtica; aorta"
        ],
        "resposta": "Veia pulmonar;átrio esquerdo; valva mitral;ventrículo esquerdo;valva aórtica; aorta",
        "imagem": "df36"
    },
    {
        "pergunta": "Qual é a definição de infarto agudo do miocárdio e o que acontece nesse paciente?",
        "opcoes": [
            "Obstrução de uma artéria coronária, possibilitando que o sangue flua nessa região",
            "obstrução na veia cava, dependendo da extensão o paciente pode ir a óbito.",
            "Obstrução na artéria aorta, provocando morte celular e necrose no coração",
            "Obstrução de uma artéria coronária, provocando morte celular e necrose no coração",
            "Obstrução de uma veia coração, levando o paciente a óbito"
        ],
        "resposta": "Obstrução de uma artéria coronária, provocando morte celular e necrose no coração",
        "imagem": "df36"
    },
    {
        "pergunta": "Qual é a definição de traumatismo crânio encefálico?",
        "opcoes": [
            "É quando ocorre uma força interna que causa um ferimento traumático no cérebro",
            "É quando ocorre uma força externa que causa um ferimento em qualquer local do corpo",
            "É quando ocorre uma força externa que causa um ferimento traumático no cérebro",
            "É quando ocorre uma força interna que causa um ferimento traumático na medula",
            
        ],
        "resposta": "É quando ocorre uma força externa que causa um ferimento traumático no cérebro",
        "imagem": "df37"
    },
    {
        "pergunta": "O cérebro é composto pelo diencéfalo e mesencéfalo,marque a alternativa incorreta:",
        "opcoes": [
           "O III ventrículo se relaciona com o IV ventrículo através do aqueduto cerebral",
           "O corpo geniculado medial faz parte da via auditiva e o lateral da via óptica",  
           "O hipotálamo está parcialmente protegido pela sela turca e pelo osso esfenoide",
           "A glândula pineal repousa sobre o mesencéfalo e não está envolvida no ciclo do sono",
           "O subtálamo está abaixo do tálamo e é limitado lateralmente pela cápsula interna"

        ],
        "resposta": "A glândula pineal repousa sobre o mesencéfalo e não está envolvida no ciclo do sono",
        "imagem": "df38"
    },
    {
        "pergunta": "Líquor é o líquido que banha o sistema nervoso, julgue a alternativa incorreta:",
        "opcoes": [
            "É um fluido aquoso similar a do plasma sanguíneo e do líquido intersticial",
            "Ele atua como um coxim para todo o sistema nervoso central",
            "O liquido também envolve o encéfalo e a medula espinhal",
            "O Líquor atua no suprimento de nutrientes e remoção de resíduos metabólicos",
            "É um fluido estéril e de aparência escura que ocupa o espaço subaracnóideo."
        ],
        "resposta": "É um fluido estéril e de aparência escura que ocupa o espaço subaracnóideo.",
        "imagem": "df39"
    },
    {
        "pergunta": "Porque outro espermatozoide não conseguirá fecundar um ovócito já fecundado?",
        "opcoes": [
            "A corona radiata irá impedir a passagem de outro espermatozoide",
            "A membrana do espermatozoide ficará aderida externamente ao óvulo",
            "Os pronúcleos irão se unir, alterando o número de cromossomos da espécie",
            "Ocorrerá alterações na zona pelúcida pela ação de enzimas dos grânulos corticais",
            "ocorrerá um aumento na espessura do ovócito devido à sua fusão com o espermatozoide"
        ],
        "resposta": "Ocorrerá alterações na zona pelúcida pela ação de enzimas dos grânulos corticais",
        "imagem": "df32"
    },
    {
        "pergunta": "O que é o pneumotórax?",
        "opcoes": [
            "É quando as cavidades pleurais ficam cheias de ar provocando o colapso dos pulmões",
            "É quando as cavidades pleurais ficam cheias de sangue",
            "Correspondem ao movimento de inspiração e expiração",
            "É quando as cavidades pleurais ficam cheias de pus provocando o colapso dos pulmões",
            "Correspondem apenas ao movimento de inspiração"
        ],
        "resposta": "É quando as cavidades pleurais ficam cheias de ar provocando o colapso dos pulmões",
        "imagem": "df34"
    },
    {
        "pergunta": "Quais fármacos são mais utilizados para as doenças respiratórias?",
        "opcoes": [
            "São os fármacos que atuam no sistema nervoso parassimpático",
            "São os nebulizadores e os inaladores",
            "São os fármacos que atuam no sistema nervoso simpático",
            "São os fármacos mucolíticos, pois eles diminuem a tosse e a dispneia",
            "São os nebulizadores e os inaladores, pois eles conseguem diminuir a dispneia."
        ],
        "resposta": "São os nebulizadores e os inaladores",
        "imagem": "df35"
    },
    {
        "pergunta": "Qual é a definição de inspiração?",
        "opcoes": [
            "Processo ativo e passivo, devido à contração e o relaxamento do músculo diafragma",
            "Processo ativo, devido à contração do músculo diafragma",
            "Processo passivo, realizado pela contração dos músculos acessórios da inspiração",
            "Processo ativo, realizado pelo relaxamento dos músculos acessórios da inspiração",
            "Processo passivo, que é realizado devido o relaxamento do músculo diafragma"
        ],
        "resposta": "Processo ativo, devido à contração do músculo diafragma",
        "imagem": "df35"
    },
    
]

import sys
import pygame
import random
import time
import tkinter as tk
from tkinter import filedialog
from fpdf import FPDF


   # Definição das cores
BLACK = (0, 0, 0)
WHITE = (255, 255, 255)
GREEN = (0, 255, 0)
RED = (255, 0, 0)
GRAY = (200, 200, 200)
LARANJA = (255,165,0)
CARMESIN = (220,20,60)
 #Definição das dimensões da tela
WIDTH = 1024
HEIGHT = 700

    # Inicialização do Pygame
pygame.init()

    # Criação da tela
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("QUIZ")

    # Carregando a imagem da roleta
roleta_image = pygame.image.load("imagens/roleta.png")
roleta_rect = roleta_image.get_rect(center=(WIDTH // 2, HEIGHT // 2))

fontname = "futura"
    # Fonte para as perguntas e opções
font = pygame.font.SysFont(fontname, 27)

font2 = pygame.font.SysFont(fontname, 22)

nome_jogador = ""
fase = 3




def create_buttons():
    running = True

    while running:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False
            if event.type == pygame.MOUSEBUTTONDOWN:
                mouse_pos = event.pos
                if exit_button_rect.collidepoint(mouse_pos):
                    pygame.quit()
                    sys.exit()

                if play_again_button_rect.collidepoint(mouse_pos):
                    reiniciar_jogo()

        # Limpe a tela
        screen.fill(WHITE)
  
        # Desenhe os botões como retângulos
        button_width, button_height = 200, 50
        button_spacing = 20

        exit_button_rect = pygame.draw.rect(screen, BLACK, (WIDTH - button_spacing - button_width, HEIGHT - button_spacing - button_height, button_width, button_height))
        play_again_button_rect = pygame.draw.rect(screen, BLACK, (button_spacing, HEIGHT - button_spacing - button_height, button_width, button_height))

        # Desenhe o texto nos botões
        exit_text = font.render("SAIR", True, WHITE)
        play_again_text = font.render("JOGAR", True, WHITE)

        exit_text_rect = exit_text.get_rect(center=exit_button_rect.center)
        play_again_text_rect = play_again_text.get_rect(center=play_again_button_rect.center)

        screen.blit(exit_text, exit_text_rect)
        screen.blit(play_again_text, play_again_text_rect)

        pygame.display.flip()

def reiniciar_jogo():
    import lib_func_fases3

def exibir_nome_jogador():
    global nome_jogador

    screen.fill(WHITE)

    campo_nome = pygame.Rect(WIDTH // 2 - 100, HEIGHT // 2 - 25, 200, 50)
    pygame.draw.rect(screen, BLACK, campo_nome, 2)

    mensagem = font.render("Insira seu nome para iniciar o jogo na fase 3", True, BLACK)
    mensagem_rect = mensagem.get_rect(center=(WIDTH // 2, HEIGHT // 2 - 100))
    screen.blit(mensagem, mensagem_rect)

    botao_jogar = pygame.Rect(WIDTH // 2 - 50, HEIGHT // 2 + 50, 100, 50)
    pygame.draw.rect(screen, BLACK, botao_jogar)
    texto_jogar = font.render("Jogar", True, WHITE)
    texto_rect_jogar = texto_jogar.get_rect(center=botao_jogar.center)
    screen.blit(texto_jogar, texto_rect_jogar)

    pygame.display.flip()

    digitando_nome = True
    jogando = True
    cursor_piscando = True
    cursor_tempo = 0
    while jogando:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                quit()

            if event.type == pygame.KEYDOWN:
                if event.key == pygame.K_BACKSPACE and digitando_nome:
                    nome_jogador = nome_jogador[:-1]
                elif event.key == pygame.K_RETURN and digitando_nome:
                    digitando_nome = False
                else:
                    nome_jogador += event.unicode

            if event.type == pygame.MOUSEBUTTONDOWN:
                if botao_jogar.collidepoint(event.pos):
                    jogando = False

        screen.fill(CARMESIN)
        pygame.draw.rect(screen, BLACK, campo_nome, 2)
        texto_nome = font.render(nome_jogador, True, BLACK)
        texto_rect_nome = texto_nome.get_rect(center=campo_nome.center)
        screen.blit(texto_nome, texto_rect_nome)

        pygame.draw.rect(screen, BLACK, botao_jogar)
        screen.blit(texto_jogar, texto_rect_jogar)

        if digitando_nome:
            if cursor_piscando:
                cursor = font.render("|", True, BLACK)
                cursor_rect = cursor.get_rect(midleft=(campo_nome.x + 10, campo_nome.centery))
                screen.blit(cursor, cursor_rect)

            if pygame.time.get_ticks() - cursor_tempo > 500:
                cursor_piscando = not cursor_piscando
                cursor_tempo = pygame.time.get_ticks()

        screen.blit(mensagem, mensagem_rect)  # Exibir a mensagem novamente

        pygame.display.flip()

    return nome_jogador

nome_jogador = exibir_nome_jogador()
print("Nome do jogador:", nome_jogador)


def exibir_resultado(pontuacao):
    screen.fill(WHITE)

    # Mensagem de resultado
    mensagem = f"Parabéns, {nome_jogador}! Sua pontuação foi: {pontuacao}"
    texto_mensagem = font.render(mensagem, True, BLACK)
    texto_rect_mensagem = texto_mensagem.get_rect(center=(WIDTH // 2, HEIGHT // 2))
    screen.blit(texto_mensagem, texto_rect_mensagem)

    pygame.display.flip()  
 
pontuacao = 0
resposta_selecionada = None
jogando = True

def girar_roleta():
    angulo = 0
    velocidade = random.randint(20, 30)
    tempo_girar = random.randint(2, 12)
    tempo_parar = random.randint(2, 3)
    parar_angulo = random.randint(0, 359)

    start_time = time.time()

    pygame.mixer.music.load("som/piao-do-bau-com-musica.mp3")
    pygame.mixer.music.play()


    while True:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                quit()

        # Girar roleta
        if time.time() - start_time < tempo_girar:
            angulo += velocidade
            if angulo >= 360:
                angulo -= 360

        elif time.time() - start_time > tempo_girar + tempo_parar:
            if angulo == parar_angulo:
                pygame.mixer.music.stop()
                return exibir_pergunta_aleatoria()
                        
            
        else:
            angulo = parar_angulo

        # Rotação da imagem da roleta
        roleta_rotated = pygame.transform.rotate(roleta_image, -angulo)
        roleta_rect = roleta_rotated.get_rect(center=(WIDTH // 2, HEIGHT // 2))
        screen.blit(roleta_rotated, roleta_rect)

        pygame.display.flip()

def exibir_pergunta_aleatoria():


    rodadas = 10

    for _ in range(rodadas):
    # Verifica se todas as perguntas já foram usadas
     if not perguntas:
        print("Todas as perguntas foram usadas!")
        break

    pergunta = random.choice(perguntas)
    perguntas.remove(pergunta)
    return exibir_pergunta(pergunta["pergunta"], pergunta["opcoes"], pergunta["resposta"], pergunta["imagem"])


# Defina as cores
BACKGROUND_COLOR = (240, 240, 240)  # Cor de fundo geral
QUESTION_COLOR = (220, 220, 220)  # Cor de fundo da pergunta
QUESTION_BORDER_COLOR = (230, 230, 230)  # Cor do contorno da pergunta
OPTION_COLOR = (200, 200, 200)  # Cor de fundo das opções de resposta
OPTION_HOVER_COLOR = (180, 180, 180)  # Cor de fundo das opções de resposta quando o mouse estiver sobre elas
OPTION_TEXT_COLOR = (0, 0, 0)  # Cor do texto das opções de resposta

def exibir_pergunta(pergunta, opcoes, resposta, imagem):
    screen.fill(BACKGROUND_COLOR)

 # Definir tamanho e posição da moldura
    moldura_width = 200
    moldura_height = 265
    moldura_x = (WIDTH - moldura_width) // 2
    moldura_y = (HEIGHT - moldura_height) // 6

    # Desenhar moldura
    pygame.draw.rect(screen, QUESTION_BORDER_COLOR, (moldura_x, moldura_y, moldura_width, moldura_height))
    pygame.draw.rect(screen, QUESTION_COLOR, (moldura_x + 2, moldura_y + 2, moldura_width - 4, moldura_height - 4))

    # Função para exibir imagem
    imagem_path = f"imagens/{imagem}.png"  # Substitua pelo caminho correto da imagem
    img = pygame.image.load(imagem_path)
    img_rect = img.get_rect(center=(WIDTH // 2, HEIGHT // 2 - 140))  # Ajuste a coordenada Y para posicionar acima do texto
    screen.blit(img, img_rect)

    
    texto_pergunta = font.render(pergunta, True, BLACK)
    texto_rect_pergunta = texto_pergunta.get_rect(center=(WIDTH // 2, HEIGHT // 1.8))
    screen.blit(texto_pergunta, texto_rect_pergunta)

    # Desenhar opções
    option_width = 700 
    option_height = 35
    option_x = (WIDTH - option_width) // 2
    option_y = HEIGHT // 2 + 90
    option_spacing = 12

    option_rects = []
    for i, opcao in enumerate(opcoes):
        option_rect = pygame.Rect(option_x, option_y + (option_height + option_spacing) * i, option_width, option_height)
        option_rects.append(option_rect)

    pygame.display.flip()

    # Esperar pela resposta do jogador
    resposta_selecionada = None
    while resposta_selecionada is None:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                quit()

            if event.type == pygame.MOUSEMOTION:
                for i, rect in enumerate(option_rects):
                    if rect.collidepoint(event.pos):
                        pygame.draw.rect(screen, OPTION_HOVER_COLOR, rect)
                    else:
                        pygame.draw.rect(screen, OPTION_COLOR, rect)

                    # Desenhar texto das opções
                    texto_opcao = font2.render(opcoes[i],True, OPTION_TEXT_COLOR)
                    texto_rect_opcao = texto_opcao.get_rect(center=rect.center)
                    screen.blit(texto_opcao, texto_rect_opcao)

                pygame.display.flip()

            if event.type == pygame.MOUSEBUTTONDOWN:
                if event.button == 1:
                    mouse_pos = pygame.mouse.get_pos()
                    for i, rect in enumerate(option_rects):
                        if rect.collidepoint(mouse_pos):
                            resposta_selecionada = opcoes[i]

    screen.fill(BACKGROUND_COLOR)




    if resposta_selecionada == resposta:
        exibir_mensagem("Resposta correta!", GREEN)
        return 10
    else:
        exibir_mensagem("Resposta incorreta!", RED)
        return 0
    
def exibir_mensagem(mensagem, cor):
    screen.fill(WHITE)
    mensagem_surface = font.render(mensagem, True, cor)
    mensagem_rect = mensagem_surface.get_rect(center=(WIDTH // 2, HEIGHT // 2 + 50))
    screen.blit(mensagem_surface, mensagem_rect)
    pygame.display.flip()
    pygame.time.wait(2000)

nome_jogador = exibir_nome_jogador()

 # Exibir pontuação inicial
pontuacao_total = 0
texto_pontuacao = font.render("PONTUAÇÃO: " + str(pontuacao_total), True,RED)
texto_rect_pontuacao = texto_pontuacao.get_rect(center=(WIDTH // 2, 40))

 # Loop principal do jogo

game_over = False
jogadas = 0

 
while not game_over:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            game_over = True

    screen.fill(LARANJA)

     # Carregar a imagem de fundo
    fundo_path = "imagens/fundo.png"  
    fundo_image = pygame.image.load(fundo_path)
    screen.blit(fundo_image, (0, 40))

    # Desenhar roleta
    moldura_width = 1024
    moldura_height = 80
    moldura_x = (WIDTH - moldura_width) // 2
    moldura_y = (HEIGHT - moldura_height) // 50

    # Desenhar moldura
    pygame.draw.rect(screen, QUESTION_BORDER_COLOR, (moldura_x, moldura_y, moldura_width, moldura_height))
    pygame.draw.rect(screen, QUESTION_COLOR, (moldura_x + 2, moldura_y + 2, moldura_width - 4, moldura_height - 4))
    
     # Desenhar o nome do jogador no canto esquerdo da tela
    texto_nome_jogador = font.render("JOGADOR: " + nome_jogador, True, BLACK)
    texto_rect_nome_jogador = texto_nome_jogador.get_rect(topleft=(50, 38))
    screen.blit(texto_nome_jogador, texto_rect_nome_jogador)

    screen.blit(roleta_image, roleta_rect)

    # Desenhar fase depois do canto esquerdo da tela
    texto_fase = font.render("FASE:" + str(fase), True, BLACK)
    texto_rect_fase = texto_fase.get_rect(center=(WIDTH // 2, 72))
    screen.blit(texto_fase, texto_rect_fase)

    screen.blit(roleta_image, roleta_rect)

    # Desenhar contagem de rodadas

    texto_contar_rodada = font.render("RODADAS: " + str(jogadas) + " de 10", True, BLACK)
    texto_rect_contar_rodada = texto_contar_rodada.get_rect(center=(WIDTH // 1.2, 50))
    screen.blit(texto_contar_rodada, texto_rect_contar_rodada)

    screen.blit(roleta_image, roleta_rect)


    # Desenhar botão de girar
    pygame.draw.circle(screen, BLACK, (WIDTH // 2, HEIGHT // 2), 50)
    texto_girar = font.render("GIRAR", True, WHITE)
    texto_rect = texto_girar.get_rect(center=(WIDTH // 2, HEIGHT // 2))
    screen.blit(texto_girar, texto_rect)

    # Exibir pontuação
    screen.blit(texto_pontuacao, texto_rect_pontuacao)

    pygame.display.flip()

    # Esperar pelo clique do jogador para girar a roleta
    mouse_pos = None
    while mouse_pos is None:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                game_over = True

            if event.type == pygame.MOUSEBUTTONDOWN:
                if event.button == 1:
                    mouse_pos = pygame.mouse.get_pos()

    if game_over:
        break

    # Verificar se o clique foi no botão de girar
    if texto_rect.collidepoint(mouse_pos):
        jogadas += 1
        pontuacao_rodada = girar_roleta()
        pontuacao_total += pontuacao_rodada
        texto_pontuacao = font.render("PONTUAÇÃO: " + str(pontuacao_total), True,RED)

        if jogadas >= 10:
            game_over = True

def salvar_pontuacao(nome_jogador, pontuacao_total):
    pdf = FPDF()
    pdf.add_page()

    pdf.set_font("Arial", size=12)
    pdf.cell(0, 10, "Pontuação do Jogo", ln=True, align="C")

    pdf.cell(0, 10, f"Nome do jogador: {nome_jogador}", ln=True)
    pdf.cell(0, 10, f"Pontuação: {pontuacao_total}", ln=True)
    pdf.cell(0, 10, f"Pontuação: {pontuacao_total}", ln=True)

    
    root = tk.Tk()
    root.withdraw()

    # Abrir caixa de diálogo de seleção de arquivo
    file_path = filedialog.asksaveasfilename(defaultextension=".pdf")


    if file_path:
        pdf.output(file_path)
        print(f"A pontuação da jogada foi salva em '{file_path}'.")
    else:
        print("Nenhum arquivo selecionado.")

# Exibir animação de foguetes se acertou todas as perguntas
if pontuacao_total >= 70:
    # Definir a função para exibir a animação de foguetes
    def exibir_animacao_foguetes():
        # Definir as imagens dos foguetes
        foguete1 = pygame.image.load("imagens/foguete1.png")
        foguete2 = pygame.image.load("imagens/foguete2.png")
        foguete3 = pygame.image.load("imagens/foguete3.png")

        # Posições iniciais dos foguetes
        posicao_foguete1 = [100, HEIGHT]
        posicao_foguete2 = [WIDTH // 2, HEIGHT]
        posicao_foguete3 = [WIDTH - 100, HEIGHT]

        # Velocidades dos foguetes
        velocidade_foguete1 = 5
        velocidade_foguete2 = 6
        velocidade_foguete3 = 7

        # Loop principal da animação
        animacao_foguetes = True
        while animacao_foguetes:
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    pygame.quit()
                    quit()

            screen.fill(BLACK)

            # Movimento dos foguetes
            posicao_foguete1[1] -= velocidade_foguete1
            posicao_foguete2[1] -= velocidade_foguete2
            posicao_foguete3[1] -= velocidade_foguete3

            # Exibição dos foguetes
            screen.blit(foguete1, posicao_foguete1)
            screen.blit(foguete2, posicao_foguete2)
            screen.blit(foguete3, posicao_foguete3)

            pygame.display.flip()
            pygame.time.Clock().tick(60)

            # Verificar se os foguetes chegaram ao topo da tela
            if posicao_foguete1[1] <= -foguete1.get_height() or posicao_foguete2[1] <= -foguete2.get_height() or posicao_foguete3[1] <= -foguete3.get_height():
                animacao_foguetes = False

        exibir_mensagem("Parabéns! Sua pontuação foi" + str(pontuacao_total) + "  pontos!", GREEN)

   

     # Chamar a função para exibir a animação de foguetes
    exibir_animacao_foguetes()

    mensagem_salvar = font.render("Para concluir e sair do jogo, é obrigatório assinar e salvar.", True, BLACK)
    mensagem_rect_salvar = mensagem_salvar.get_rect(center=(WIDTH // 2, HEIGHT // 2))
    screen.blit(mensagem_salvar, mensagem_rect_salvar)
    pygame.display.flip()
    pygame.time.wait(2000) 

    salvar_pontuacao(nome_jogador, pontuacao_total,)
    pygame.time.delay(2000)  # Aguarde 2 segundos (2000 milissegundos)
    create_buttons()

else:
    exibir_mensagem("Continue estudando! Você fez " + str(pontuacao_total) + " pontos.", RED)
    pygame.time.delay(2000)  # Aguarde 2 segundos (2000 milissegundos)
 

mensagem_salvar = font.render("Para concluir e sair do jogo, é obrigatório assinar e salvar.", True, BLACK)
mensagem_rect_salvar = mensagem_salvar.get_rect(center=(WIDTH // 2, HEIGHT // 2))
screen.blit(mensagem_salvar, mensagem_rect_salvar)
pygame.display.flip()
pygame.time.wait(2000)



 # Exemplo de uso
salvar_pontuacao(nome_jogador, pontuacao_total,)

pygame.time.delay(3000)  # Aguarde 3 segundos (3000 milissegundos)
create_buttons()

 # Exibir pontuação final
screen.fill(WHITE)
texto_pontuacao_final = font.render("Pontuação total:  " + str(pontuacao_total), True, BLACK)
texto_rect_pontuacao_final = texto_pontuacao_final.get_rect(center=(WIDTH // 2, HEIGHT // 2))
screen.blit(texto_pontuacao_final, texto_rect_pontuacao_final)
pygame.display.flip()


while True:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            quit()